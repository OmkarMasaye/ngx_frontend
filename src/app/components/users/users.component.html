<div class="users-container">
    <h2>Users</h2>
    <p>View and manage all registered users in the system.</p>
    <div class="search-bar">
      <input type="text" placeholder="Search users by name or email..." [(ngModel)]="searchQuery" (input)="onSearch()" />
      <button (click)="resetSearch()">Reset</button>
    </div>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>
              <span *ngIf="user.usertype === 'user'">ğŸ‘¤ User</span>
              <span *ngIf="user.usertype === 'admin'">ğŸ‘‘ Admin</span>
            </td>
            <td>
              <select (change)="onRoleChange($event, user.email)" *ngIf="isMasterAdmin">
                <option value="user" [selected]="user.usertype === 'user'">User</option>
                <option value="admin" [selected]="user.usertype === 'admin'">Admin</option>
              </select>
              <span *ngIf="!isMasterAdmin">Change Role</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
</div>