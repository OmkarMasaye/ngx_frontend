<div class="dashboard-container">
    <!-- Header -->
    <h1 class="dashboard-title">Loan Dashboard</h1>
    <p class="dashboard-subtitle">Manage and analyze loan applications</p>
  
    <!-- Summary Cards -->
    <div class="summary-cards">
      <!-- Total Applications -->
      <div class="card">
        <h2 class="card-title">Total Applications</h2>
        <p class="card-value">{{ dashboardData.totalApplications | number }}</p>
        <!-- <p class="card-change" [ngClass]="dashboardData.totalApplicationsChange > 0 ? 'positive' : 'negative'">
          <span *ngIf="dashboardData.totalApplicationsChange > 0">↑</span>
          <span *ngIf="dashboardData.totalApplicationsChange < 0">↓</span>
          {{ dashboardData.totalApplicationsChange | number:'1.0-0' }}% from last period
        </p> -->
      </div>
  
      <!-- Average Credit Score -->
      <div class="card">
        <h2 class="card-title">Average Credit Score</h2>
        <p class="card-value">{{ dashboardData.averageCreditScore }}</p>
        <!-- <p class="card-change" [ngClass]="dashboardData.averageCreditScoreChange > 0 ? 'positive' : 'negative'">
          <span *ngIf="dashboardData.averageCreditScoreChange > 0">↑</span>
          <span *ngIf="dashboardData.averageCreditScoreChange < 0">↓</span>
          {{ dashboardData.averageCreditScoreChange | number:'1.0-0' }}% from last period
        </p> -->
      </div>
    </div>
  
    <!-- Application Status and Geographic Distribution -->
    <div class="status-geo-container">
      <!-- Application Status -->
      <div class="card">
        <h2 class="card-title">Application Status</h2>
        <div class="status-item">
          <div class="status-label">Approved</div>
          <div class="status-bar-container">
            <div class="status-bar approved" [style.width]="(dashboardData.status.Approved / dashboardData.totalApplications * 100 || 0) + '%'"></div>
          </div>
          <span class="status-value">{{ dashboardData.status.Approved }} ({{ (dashboardData.status.Approved / dashboardData.totalApplications * 100 || 0) | number:'1.0-1' }}%)</span>
        </div>
        <div class="status-item">
          <div class="status-label">Pending</div>
          <div class="status-bar-container">
            <div class="status-bar pending" [style.width]="(dashboardData.status.Pending / dashboardData.totalApplications * 100 || 0) + '%'"></div>
          </div>
          <span class="status-value">{{ dashboardData.status.Pending }} ({{ (dashboardData.status.Pending / dashboardData.totalApplications * 100 || 0) | number:'1.0-1' }}%)</span>
        </div>
        <div class="status-item">
          <div class="status-label">Rejected</div>
          <div class="status-bar-container">
            <div class="status-bar rejected" [style.width]="(dashboardData.status.Rejected / dashboardData.totalApplications * 100 || 0) + '%'"></div>
          </div>
          <span class="status-value">{{ dashboardData.status.Rejected }} ({{ (dashboardData.status.Rejected / dashboardData.totalApplications * 100 || 0) | number:'1.0-1' }}%)</span>
        </div>
      </div>
  
      <!-- Geographic Distribution -->
      <div class="card">
        <h2 class="card-title">Geographic Distribution</h2>
        <div class="geo-item" *ngFor="let state of dashboardData.geographicDistribution | keyvalue">
          <div class="geo-label">{{ state.key }}</div>
          <div class="geo-bar-container">
            <div class="geo-bar" [style.width]="(state.value / (dashboardData.totalApplications || 1) * 100 || 0) + '%'"></div>
          </div>
          <span class="geo-value">{{ state.value }}</span>
        </div>
      </div>
    </div>
  
    <!-- Recent Activity -->
    <div class="card">
      <h2 class="card-title">Recent Activity</h2>
      <div class="activity-item" *ngFor="let activity of dashboardData.recentActivity">
        <div class="activity-icon">{{ activity.name.charAt(0) }}</div>
        <div class="activity-details">
          <p class="activity-name">{{ activity.name }}</p>
          <p class="activity-action">{{ activity.email }}</p>
        </div>
        <span class="activity-time">{{ activity.date }}</span>
      </div>
    </div>
  </div>